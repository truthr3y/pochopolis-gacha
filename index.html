<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Calculadora Gacha - R3Y</title>
<style>
body { font-family: Arial, sans-serif; background: #f0f2f5; margin:0; padding:0; }
.container { max-width: 800px; margin: auto; padding: 20px; background: #fff; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1);}
h1, h2 { text-align: center; }
label { display:block; margin-top:10px; }
input[type=number], select { width:100%; padding:8px; margin-top:5px; }
button { margin-top:15px; padding:10px 20px; font-size:16px; cursor:pointer; }
.result { margin-top:20px; padding:15px; background:#eef; border-radius:8px; }
.footer { text-align:center; margin-top:30px; font-size:14px; color:#555; }
.lang-select { float:right; }
</style>
</head>
<body>
<div class="container">
    <h1 id="title">Calculadora Gacha</h1>
    <div class="lang-select">
        <label for="lang">Language / Idioma:</label>
        <select id="lang">
            <option value="es">Español</option>
            <option value="en">English</option>
        </select>
    </div>
    <h2 id="subtitle">Rellena tu inventario y calcula</h2>
    
    <label id="label-fuego">Fuego (Fueguitos) actuales:</label>
    <input type="number" id="fuego" value="0" min="0">

    <label id="label-hielo">Hielo (Copitos) actuales:</label>
    <input type="number" id="hielo" value="0" min="0">

    <label id="label-bellotas">Bellotas actuales:</label>
    <input type="number" id="bellotas" value="0" min="0">

    <label id="label-item">Selecciona ítem:</label>
    <select id="item">
        <option value="sigilF">Sigil (Fuego) - 20k</option>
        <option value="sigilH">Sigil (Hielo) - 20k</option>
        <option value="armaF">Arma (Fuego) - 30k</option>
        <option value="armaH">Arma (Hielo) - 30k</option>
        <option value="zanahoria">Zanahoria (Hielo) - 20k</option>
        <option value="corazon">Corazón de veneno (Bellotas) - 15k</option>
        <option value="baston">Bastón de mariposa (Bellotas) - 50k</option>
    </select>

    <button onclick="calcular()">Calcular</button>

    <div class="result" id="resultado"></div>

    <div class="footer" id="footer">Calculadora Gacha hecha por R3Y</div>
</div>

<script>
const items = {
    sigilF: {tipo:'fuego', precio:20000, wish:true},
    sigilH: {tipo:'hielo', precio:20000, wish:true},
    armaF: {tipo:'fuego', precio:30000},
    armaH: {tipo:'hielo', precio:30000},
    zanahoria: {tipo:'hielo', precio:20000},
    corazon: {tipo:'bellotas', precio:15000},
    baston: {tipo:'bellotas', precio:50000}
};

const costoPack = {fuego:30, hielo:30, bellotas:30}; // monedas del juego por pack
const unidadesPorPack = {fuego:100, hielo:100, bellotas:168};

function calcular(){
    const inventario = {
        fuego: parseFloat(document.getElementById('fuego').value),
        hielo: parseFloat(document.getElementById('hielo').value),
        bellotas: parseFloat(document.getElementById('bellotas').value)
    };
    const itemKey = document.getElementById('item').value;
    const item = items[itemKey];

    let faltante = item.precio - inventario[item.tipo];
    if(faltante < 0) faltante = 0;

    // Packs necesarios
    const packsNecesarios = Math.ceil(faltante / unidadesPorPack[item.tipo]);
    const costePacks = packsNecesarios * costoPack[item.tipo];

    // Si es Sigil, calcular Wish Crystals
    let faltanteWish = 0;
    let mensajeWish = '';
    if(item.wish){
        faltanteWish = Math.ceil(faltante / 1000); // 1k monedas = 1 Wish Crystal
        mensajeWish = `Faltante en Wish Crystals: ${faltanteWish} (4 por Sigil)`;
        const costeWish = faltanteWish * 30; // 1 wish cristal = 30 monedas
        mensajeWish += `<br>Coste equivalente en Wish Crystals: ${costeWish} monedas`;
        mensajeWish += `<br>Comparación: ${costeWish < costePacks ? 'Más rentable usar Wish Crystals' : 'Más rentable comprar packs'}`;
    }

    const res = `
    <strong>Faltante en monedas:</strong> ${faltante.toFixed(0)}<br>
    <strong>Packs necesarios:</strong> ${packsNecesarios}<br>
    <strong>Coste en packs (monedas):</strong> ${costePacks}<br>
    ${mensajeWish}
    `;
    document.getElementById('resultado').innerHTML = res;
}

// Idiomas
const textos = {
    es:{
        title:'Calculadora Gacha',
        subtitle:'Rellena tu inventario y calcula',
        labelF:'Fuego (Fueguitos) actuales:',
        labelH:'Hielo (Copitos) actuales:',
        labelB:'Bellotas actuales:',
        labelItem:'Selecciona ítem:',
        button:'Calcular',
        footer:'Calculadora Gacha hecha por R3Y'
    },
    en:{
        title:'Gacha Calculator',
        subtitle:'Fill your inventory and calculate',
        labelF:'Fire current:',
        labelH:'Ice current:',
        labelB:'Acorns current:',
        labelItem:'Select item:',
        button:'Calculate',
        footer:'Gacha Calculator by R3Y'
    }
};

// Nombres de ítems en inglés
const itemsEn = {
    sigilF: 'Sigil (Fire) - 20k',
    sigilH: 'Sigil (Ice) - 20k',
    armaF: 'Weapon (Fire) - 30k',
    armaH: 'Weapon (Ice) - 30k',
    zanahoria: 'Carrot (Ice) - 20k',
    corazon: 'Poison Heart (Acorns) - 15k',
    baston: 'Butterfly Staff (Acorns) - 50k'
};

document.getElementById('lang').addEventListener('change', function(){
    const lang = this.value;
    document.getElementById('title').innerText = textos[lang].title;
    document.getElementById('subtitle').innerText = textos[lang].subtitle;
    document.getElementById('label-fuego').innerText = textos[lang].labelF;
    document.getElementById('label-hielo').innerText = textos[lang].labelH;
    document.getElementById('label-bellotas').innerText = textos[lang].labelB;
    document.getElementById('label-item').innerText = textos[lang].labelItem;
    document.querySelector('button').innerText = textos[lang].button;
    document.getElementById('footer').innerText = textos[lang].footer;

    const sel = document.getElementById('item');
    if(lang==='en'){
        sel.options[0].text = itemsEn.sigilF;
        sel.options[1].text = itemsEn.sigilH;
        sel.options[2].text = itemsEn.armaF;
        sel.options[3].text = itemsEn.armaH;
        sel.options[4].text = itemsEn.zanahoria;
        sel.options[5].text = itemsEn.corazon;
        sel.options[6].text = itemsEn.baston;
    } else {
        sel.options[0].text = 'Sigil (Fuego) - 20k';
        sel.options[1].text = 'Sigil (Hielo) - 20k';
        sel.options[2].text = 'Arma (Fuego) - 30k';
        sel.options[3].text = 'Arma (Hielo) - 30k';
        sel.options[4].text = 'Zanahoria (Hielo) - 20k';
        sel.options[5].text = 'Corazón de veneno (Bellotas) - 15k';
        sel.options[6].text = 'Bastón de mariposa (Bellotas) - 50k';
    }
});
</script>
</body>
</html>
